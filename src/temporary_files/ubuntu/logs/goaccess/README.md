# GoAccess: Инструмент для анализа веб-логов

GoAccess — это мощный инструмент для анализа логов веб-серверов в реальном времени. Он предоставляет удобный интерфейс для визуализации данных, что позволяет легко отслеживать посещаемость вашего сайта и получать ценную информацию о пользователях.

## Установка

Чтобы установить GoAccess, выполните следующие шаги:

1. *Обновите список пакетов:*

   
bash
   sudo apt update
   

2. *Установите необходимые зависимости:*

bash
sudo apt install -y build-essential libncurses5-dev libgeoip-dev libssl-dev libglib2.0-dev wget

3. *Скачайте последнюю версию GoAccess:*

bash
wget https://tar.goaccess.io/goaccess-1.9.3.tar.gz

4. *Распакуйте архив:*

bash
tar -xzvf goaccess-1.9.3.tar.gz
cd goaccess-1.9.3

5. *Соберите и установите GoAccess:*

bash
./configure --enable-utf8 --with-geolite2=legacy
make
sudo make install

6. *Проверьте установленную версию:*

bash
goaccess --version

## Подготовка логов

GoAccess может анализировать логи различных веб-серверов, таких как Apache и Nginx. Обычно логи находятся по следующим путям:

- *Apache*: `/var/log/apache2/access.log`
- *Nginx*: `/var/log/nginx/access.log`

Убедитесь, что у вас есть доступ к этим логам.

## Запуск GoAccess

### Консольный режим

Чтобы запустить GoAccess в консольном режиме, используйте следующую команду:

bash
goaccess /path/to/access.log --log-format=COMBINED

Замените `/path/to/access.log` на путь к вашему лог-файлу. Параметр `--log-format` указывает формат логов, и для большинства серверов используется формат `COMBINED`.

### Веб-режим

Чтобы запустить GoAccess в веб-режиме и получить отчет в формате HTML, выполните:

bash
goaccess /path/to/access.log --log-format=COMBINED -o index.html --real-time-html

Теперь вы можете открыть файл `index.html` в вашем веб-браузере:

bash
xdg-open index.html

## Настройка формата логов

Если ваши логи имеют нестандартный формат, вам нужно будет указать правильный формат с помощью параметра `--log-format`. Например, для логов Nginx, которые могут выглядеть так:


127.0.0.1 - - [01/Jan/2023:12:00:00 +0000] "GET / HTTP/1.1" 200 612

Вы можете использовать следующий формат:

bash
goaccess /path/to/access.log --log-format=COMBINED

## Использование GeoIP

Если вы хотите использовать GeoIP для отображения геолокации пользователей, убедитесь, что у вас установлены необходимые библиотеки и файлы GeoIP.

## Автоматизация анализа

Вы можете настроить автоматический анализ логов с помощью cron. Например, чтобы запускать GoAccess каждый час, добавьте следующую строку в crontab:

bash
0 * * * * /usr/bin/goaccess /path/to/access.log --log-format=COMBINED -o /path/to/output/index.html --real-time-html

## Заключение

GoAccess — это отличный инструмент для анализа веб-логов, который предоставляет множество возможностей для визуализации и анализа данных. Экспериментируйте с различными параметрами и настройками, чтобы максимально использовать этот инструмент!

Если у вас возникли вопросы или предложения, не стесняйтесь обращаться за помощью.